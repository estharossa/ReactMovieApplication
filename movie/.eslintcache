[{"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/index.tsx":"1","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/reportWebVitals.ts":"2","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/store/reducers/AuthReducer.ts":"3","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/App.tsx":"4","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Model/AuthAction.enum.ts":"5","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Context/AuthContext.tsx":"6","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/db/axios.tsx":"7","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Authorization/Login.tsx":"8","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Authorization/Register.tsx":"9","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Authorization/Account.tsx":"10","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/MoviesList/Movies.tsx":"11","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/navigation/Navbar.tsx":"12","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/FavouritesMovies/Favourites.tsx":"13","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/MovieDetails/MovieDetails.tsx":"14","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Api/MovieApi.tsx":"15"},{"size":743,"mtime":1608572946795,"results":"16","hashOfConfig":"17"},{"size":425,"mtime":1608468241451,"results":"18","hashOfConfig":"17"},{"size":877,"mtime":1608576651792,"results":"19","hashOfConfig":"17"},{"size":1661,"mtime":1608576363512,"results":"20","hashOfConfig":"17"},{"size":144,"mtime":1608575818009,"results":"21","hashOfConfig":"17"},{"size":167,"mtime":1608488611446,"results":"22","hashOfConfig":"17"},{"size":123,"mtime":1608468241451,"results":"23","hashOfConfig":"17"},{"size":1911,"mtime":1608574862607,"results":"24","hashOfConfig":"17"},{"size":2393,"mtime":1608576651808,"results":"25","hashOfConfig":"17"},{"size":1174,"mtime":1608577145366,"results":"26","hashOfConfig":"17"},{"size":2775,"mtime":1608576516768,"results":"27","hashOfConfig":"17"},{"size":1392,"mtime":1608572338681,"results":"28","hashOfConfig":"17"},{"size":1774,"mtime":1608573447277,"results":"29","hashOfConfig":"17"},{"size":3495,"mtime":1608576259528,"results":"30","hashOfConfig":"17"},{"size":128,"mtime":1608468241451,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"13zhv6z",{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"36"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/index.tsx",[],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/reportWebVitals.ts",[],["67","68"],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/store/reducers/AuthReducer.ts",[],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/App.tsx",[],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Model/AuthAction.enum.ts",[],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Context/AuthContext.tsx",[],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/db/axios.tsx",[],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Authorization/Login.tsx",["69","70"],"import React, {ReactElement, useContext, useEffect, useState} from 'react'\nimport {Redirect} from 'react-router-dom';\nimport AuthContext from '../Context/AuthContext';\nimport css from './Register.module.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport AuthState from \"../Model/AuthState\";\nimport User from \"../Model/User\";\nimport instance from \"../db/axios\";\nimport {AuthAction} from \"../Model/AuthAction.enum\";\n\ninterface Props {\n\n}\n\nconst API_USERS = '/people'\n\nexport default function Login({}: Props): ReactElement {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [users, setUsers] = useState<User[]>([])\n    const authState = useSelector<AuthState>((state: AuthState) => state) as AuthState\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        async function fetchUsers() {\n            const result = await instance.get(API_USERS)\n            setUsers([...result.data])\n        }\n\n        fetchUsers()\n    }, [])\n\n    function authenticateUser() {\n        const isPresent = users.find((user) => user.username === username && user.password === password) != null\n        const user = users.find((user) => user.username === username && user.password === password)\n        if (isPresent) {\n            dispatch({type: AuthAction.LOGIN, user: user})\n        } else {\n            dispatch({type: AuthAction.LOGIN})\n        }\n    }\n\n    return (\n        <div className={css.input_container}>\n            <div className={css.input_card}>\n                <h1>Login</h1>\n                <input type='text' placeholder='Username...' onChange={(e) => setUsername(e.target.value)}/>\n                <input type='password' placeholder='Password...' onChange={(e) => setPassword(e.target.value)}/>\n                <button onClick={authenticateUser}>Login</button>\n                {authState.isLogged ? <Redirect to='/account'/> : null}\n            </div>\n        </div>\n    );\n}","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Authorization/Register.tsx",["71","72","73","74","75","76","77","78","79","80","81"],"import React, {ReactElement, useContext, useEffect, useState} from 'react'\nimport {Redirect} from 'react-router-dom';\nimport AuthContext from '../Context/AuthContext';\nimport User from '../Model/User';\nimport css from './Register.module.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport AuthState from \"../Model/AuthState\";\nimport instance from \"../db/axios\";\nimport {AuthAction} from \"../Model/AuthAction.enum\";\n\nconst EMAIL_REGEX = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n\ninterface Props {\n}\n\nconst API_USERS = '/people'\n\nexport default function Register({}: Props): ReactElement {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [email, setEmail] = useState('')\n    const [users, setUsers] = useState<User[]>([])\n\n    const authState = useSelector<AuthState>((state: AuthState) => state) as AuthState\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        async function fetchUsers() {\n            const result = await instance.get(API_USERS)\n            setUsers([...result.data])\n        }\n\n        fetchUsers()\n    }, [])\n\n    async function createUser() {\n        const isPresent = !!users.find((u) => u.username === username)\n        if (isPresent) {\n            // TODO handle case when the user is already registered\n            return\n        } else {\n            let user: User = {id: users.length, username: username, password: password, favourites: []}\n            const result = await instance.post(API_USERS, user)\n            dispatch({type: AuthAction.REGISTER, user: user})\n        }\n    }\n\n    function validate() {\n        if (username.length == 0 || password.length == 0 && email.length == 0) {\n            alert(\"There are some missing fields.\")\n            return\n        }\n        createUser()\n    }\n\n    return (\n        <div className={css.input_container}>\n            <div className={css.input_card}>\n                <h1>Registration</h1>\n                <input type='text' placeholder='Username...' onChange={(e) => setUsername(e.target.value)}/>\n                <input type='password' placeholder='Password...' onChange={(e) => setPassword(e.target.value)}/>\n                <button onClick={() => validate()}>Register</button>\n                {authState.isLogged ? <Redirect to='/account'/> : null}\n            </div>\n        </div>\n    )\n}","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Authorization/Account.tsx",["82","83","84","85"],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/MoviesList/Movies.tsx",["86","87","88"],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/navigation/Navbar.tsx",["89","90","91"],"import React, {ReactElement, useContext} from \"react\";\nimport {Link} from 'react-router-dom'\nimport AuthContext from \"../Context/AuthContext\";\nimport './Navbar.css'\nimport {useSelector} from \"react-redux\";\nimport AuthState from \"../Model/AuthState\";\n\ninterface Props {\n}\n\nexport default function NavBar({}: Props): ReactElement {\n    // const authState = useContext(AuthContext)\n    const authState = useSelector<AuthState>((state: AuthState) => state) as AuthState\n    console.log(authState)\n\n    return (\n        <div className=\"nav-bar\">\n            <ul>\n                <Link to=\"/\">\n                    <li>Movies</li>\n                </Link>\n                {authState.isLogged ?\n                    <Link to='/favourites'>\n                        <li>Favourites</li>\n                    </Link>\n                    : null}\n                {authState.isLogged ?\n                    <Link to='/account'>\n                        <li>Account</li>\n                    </Link>\n                    : null}\n                {authState.isLogged ? null :\n                    <Link to=\"/login\">\n                        <li>Login</li>\n                    </Link>\n                }\n                {authState.isLogged ? null :\n                    <Link to=\"/register\">\n                        <li>Register</li>\n                    </Link>\n                }\n            </ul>\n        </div>\n    );\n}\n","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/FavouritesMovies/Favourites.tsx",["92","93","94","95","96","97"],"/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/MovieDetails/MovieDetails.tsx",["98","99","100","101","102","103"],"import React, {ReactElement, useContext, useEffect, useState} from 'react'\nimport {useRouteMatch} from 'react-router-dom'\nimport movieApi from '../Api/MovieApi';\nimport AuthContext from '../Context/AuthContext';\nimport Details from '../Model/Details';\nimport './MovieDetails.css'\nimport instance from \"../db/axios\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport AuthState from \"../Model/AuthState\";\nimport {AuthAction} from \"../Model/AuthAction.enum\";\n\nconst IMAGE_URL = 'https://image.tmdb.org/t/p/w500'\nconst DEFAULT_IMAGE_URL = 'https://d1csarkz8obe9u.cloudfront.net/posterpreviews/space-movie-poster-design-template-18133e937d93002c68b4649ea234d75f_screen.jpg?ts=1573539500'\n\ninterface Props {\n}\n\nconst API_USERS = '/people'\n\nexport default function MovieDetails({}: Props): ReactElement {\n    const match = useRouteMatch<{ id: string }>();\n    const [movieDetails, setMovieDetails] = useState<Details>(\n        {id: 0, title: \"\", poster_path: \"\", vote_average: 0, overview: \"\"}\n    )\n    const authState = useSelector<AuthState>((state: AuthState) => state) as AuthState\n    const [isAlreadyPresent, setIsAlreadyPresent] = useState<Boolean>(false)\n    const details_query = '3/movie/' + match.params.id + '?api_key=b82c172e7bf6660516881c6a1ed616dd'\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        async function fetchMovieDetails() {\n            const response = await movieApi.get(details_query)\n            const result = response.data\n            let details: Details = {\n                id: result.id,\n                title: result.title,\n                poster_path: result.poster_path,\n                vote_average: result.vote_average,\n                overview: result.overview\n            }\n            setMovieDetails(result)\n            setIsAlreadyPresent(!!authState.user?.favourites.find((movie) => movie.id == details.id))\n        }\n\n        fetchMovieDetails()\n    }, [])\n\n    async function addToFavourites() {\n        let user = authState.user\n        let isMoviePresent = user?.favourites.find((movie) => movie.id === movieDetails.id) != null\n\n        if (!isMoviePresent) {\n            user?.favourites.push(movieDetails)\n            const response = await instance.patch(`${API_USERS}/${user?.id}`, user)\n            dispatch({type: AuthAction.UPDATE, user: user})\n        }\n\n        setIsAlreadyPresent(true)\n    }\n\n    return (\n        <div className={'movie-details-container'}>\n            <div className={'movie-details-mini-container'}>\n                <div className={'movie-img-container'}>\n                    <img\n                        src={movieDetails.poster_path != null ? IMAGE_URL + movieDetails.poster_path : DEFAULT_IMAGE_URL}\n                        alt='movie_poster'/>\n                </div>\n                <div className={'movie-text-container'}>\n                    <h2>{movieDetails.title}</h2>\n                    <h3><span className={'movie-text'}>Rating:</span> {movieDetails.vote_average}</h3>\n                    <p><span className={'movie-text'}>Overview:</span><br/>{movieDetails.overview}</p>\n                    {authState.isLogged && !isAlreadyPresent ?\n                        <button onClick={() => addToFavourites()}>Add to Favourites</button> : null}\n                    {authState.isLogged && isAlreadyPresent ?\n                        <h3 className={'favourite-text'}>You have added the movie to your favourites list</h3> : null}\n                </div>\n            </div>\n        </div>\n    );\n}","/home/daniyar/Рабочий стол/react/ReactMovieApplication/movie/src/Api/MovieApi.tsx",[],{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":1,"column":30,"nodeType":"110","messageId":"111","endLine":1,"endColumn":40},{"ruleId":"108","severity":1,"message":"112","line":3,"column":8,"nodeType":"110","messageId":"111","endLine":3,"endColumn":19},{"ruleId":"108","severity":1,"message":"109","line":1,"column":30,"nodeType":"110","messageId":"111","endLine":1,"endColumn":40},{"ruleId":"108","severity":1,"message":"112","line":3,"column":8,"nodeType":"110","messageId":"111","endLine":3,"endColumn":19},{"ruleId":"108","severity":1,"message":"113","line":11,"column":7,"nodeType":"110","messageId":"111","endLine":11,"endColumn":18},{"ruleId":"114","severity":1,"message":"115","line":18,"column":34,"nodeType":"116","messageId":"117","endLine":18,"endColumn":43},{"ruleId":"108","severity":1,"message":"118","line":21,"column":19,"nodeType":"110","messageId":"111","endLine":21,"endColumn":27},{"ruleId":"108","severity":1,"message":"119","line":43,"column":19,"nodeType":"110","messageId":"111","endLine":43,"endColumn":25},{"ruleId":"120","severity":1,"message":"121","line":49,"column":29,"nodeType":"122","messageId":"117","endLine":49,"endColumn":31},{"ruleId":"123","severity":1,"message":"124","line":49,"column":34,"nodeType":"125","messageId":"126","endLine":49,"endColumn":36},{"ruleId":"120","severity":1,"message":"121","line":49,"column":53,"nodeType":"122","messageId":"117","endLine":49,"endColumn":55},{"ruleId":"123","severity":1,"message":"124","line":49,"column":58,"nodeType":"125","messageId":"126","endLine":49,"endColumn":60},{"ruleId":"120","severity":1,"message":"121","line":49,"column":74,"nodeType":"122","messageId":"117","endLine":49,"endColumn":76},{"ruleId":"108","severity":1,"message":"109","line":1,"column":16,"nodeType":"110","messageId":"111","endLine":1,"endColumn":26},{"ruleId":"108","severity":1,"message":"127","line":1,"column":28,"nodeType":"110","messageId":"111","endLine":1,"endColumn":38},{"ruleId":"108","severity":1,"message":"112","line":3,"column":8,"nodeType":"110","messageId":"111","endLine":3,"endColumn":19},{"ruleId":"114","severity":1,"message":"115","line":13,"column":33,"nodeType":"116","messageId":"117","endLine":13,"endColumn":42},{"ruleId":"128","severity":1,"message":"129","line":20,"column":8,"nodeType":"130","endLine":20,"endColumn":10,"suggestions":"131"},{"ruleId":"128","severity":1,"message":"132","line":41,"column":8,"nodeType":"130","endLine":41,"endColumn":15,"suggestions":"133"},{"ruleId":"134","severity":1,"message":"135","line":61,"column":33,"nodeType":"136","endLine":62,"endColumn":111},{"ruleId":"108","severity":1,"message":"109","line":1,"column":30,"nodeType":"110","messageId":"111","endLine":1,"endColumn":40},{"ruleId":"108","severity":1,"message":"112","line":3,"column":8,"nodeType":"110","messageId":"111","endLine":3,"endColumn":19},{"ruleId":"114","severity":1,"message":"115","line":11,"column":32,"nodeType":"116","messageId":"117","endLine":11,"endColumn":41},{"ruleId":"108","severity":1,"message":"109","line":1,"column":40,"nodeType":"110","messageId":"111","endLine":1,"endColumn":50},{"ruleId":"108","severity":1,"message":"137","line":1,"column":52,"nodeType":"110","messageId":"111","endLine":1,"endColumn":61},{"ruleId":"108","severity":1,"message":"127","line":1,"column":63,"nodeType":"110","messageId":"111","endLine":1,"endColumn":73},{"ruleId":"108","severity":1,"message":"138","line":1,"column":75,"nodeType":"110","messageId":"111","endLine":1,"endColumn":83},{"ruleId":"108","severity":1,"message":"112","line":3,"column":8,"nodeType":"110","messageId":"111","endLine":3,"endColumn":19},{"ruleId":"134","severity":1,"message":"135","line":31,"column":33,"nodeType":"136","endLine":32,"endColumn":93},{"ruleId":"108","severity":1,"message":"109","line":1,"column":30,"nodeType":"110","messageId":"111","endLine":1,"endColumn":40},{"ruleId":"108","severity":1,"message":"112","line":4,"column":8,"nodeType":"110","messageId":"111","endLine":4,"endColumn":19},{"ruleId":"114","severity":1,"message":"115","line":20,"column":38,"nodeType":"116","messageId":"117","endLine":20,"endColumn":47},{"ruleId":"120","severity":1,"message":"121","line":45,"column":87,"nodeType":"122","messageId":"117","endLine":45,"endColumn":89},{"ruleId":"128","severity":1,"message":"139","line":49,"column":8,"nodeType":"130","endLine":49,"endColumn":10,"suggestions":"140"},{"ruleId":"108","severity":1,"message":"141","line":57,"column":19,"nodeType":"110","messageId":"111","endLine":57,"endColumn":27},"no-native-reassign",["142"],"no-negated-in-lhs",["143"],"@typescript-eslint/no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'AuthContext' is defined but never used.","'EMAIL_REGEX' is assigned a value but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","'setEmail' is assigned a value but never used.","'result' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","no-mixed-operators","Unexpected mix of '||' and '&&'.","LogicalExpression","unexpectedMixedOperator","'useReducer' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchMovies'. Either include it or remove the dependency array.","ArrayExpression",["144"],"React Hook useEffect has missing dependencies: 'fetchMovies' and 'find_query'. Either include them or remove the dependency array.",["145"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useEffect' is defined but never used.","'useState' is defined but never used.","React Hook useEffect has missing dependencies: 'authState.user?.favourites' and 'details_query'. Either include them or remove the dependency array.",["146"],"'response' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"147","fix":"148"},{"desc":"149","fix":"150"},{"desc":"151","fix":"152"},"Update the dependencies array to be: [fetchMovies]",{"range":"153","text":"154"},"Update the dependencies array to be: [fetchMovies, find_query, query]",{"range":"155","text":"156"},"Update the dependencies array to be: [authState.user?.favourites, details_query]",{"range":"157","text":"158"},[854,856],"[fetchMovies]",[1346,1353],"[fetchMovies, find_query, query]",[1950,1952],"[authState.user?.favourites, details_query]"]